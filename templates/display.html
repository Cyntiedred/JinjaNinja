{% extends "layout.html" %}

{% block content %}

<div class="display_css">

    {% for question in question_by_id %}

    <div class="question_title">{{ question.title }}</div><br>
    <div class="question_submission_time">{{ question.submission_time }}</div><br>
    <p class ="question_message">{{ question.message }}</p>
    <div class ="question_vote_number">
     <a href="{{ url_for('vote', q_id=question.id, vote='up') }}"><p><i class="up"></i></p></a>
        {{ question.vote_number }}
     <a href="{{ url_for('vote', q_id=question.id, vote='down') }}"><p><i class="down"></i></p></a>
    <br>
</div>
    {% endfor %}

<div class="display_css">
    {% for comment in question_comments %}

    <div class="question_comment_css">
       <br><h4 class= "question_comment"> Question Comments: </h4>
       <div class ="comment_submission_time">{{ comment['submission_time'] }}</div>
        <p class ="comment_message">
        <b><a href = "{{ url_for('edit_comment', c_id = comment.id ) }}">{{ comment['message'] }}</a></b><br>
         </p>
        <div class ="comment_edited">It has been edited {{ comment.edited_count }} times.</div>
        <div class="comment_delete">
        <b><a href = "{{ url_for('delete_question_comment', c_id = comment.id ) }}">delete</a></b>
        </div>
    </div>
</div>
{% endfor %}

<h1 class= "Answer" align="center">Answers: </h1>
    {% for answer in answers %}

    <div class="answer_css">

        <div class="answer_submission_time">{{ answer.submission_time }}</div><br>
        <div class ="answer_message">
            <a href="{{ url_for('edit_answer', a_id=answer.id) }}">{{ answer.message }}"</a>

        <div class ="answer_comment_message">
            {% for comment in answer_comments %}
            <a href="{{ url_for('edit_comment', c_id = comment.id ) }}">{{ comment['message'] }}"</a>
            {% endfor %}
        </div>

        </div>
        <div class ="answer_vote_number">
         <a href="{{url_for('vote_for_answer', a_id=answer.id, vote='up') }}"><p><i class="up"></i></p></a>
            {{ answer.vote_number }}
         <a href="{{ url_for('vote_for_answer', a_id=answer.id, vote='down') }}"><p><i class="down"></i></p></a>
        </div><br>
    </div>



    {% endfor %}


    <form class="new_answer" action="{{ url_for('add_new_answer', q_id=q_id) }}" method="post">
        <p>
            <label class="message" for="message">Enter your answer here:</label>
            <br>
            <textarea name="message" id="message" cols="100" rows="5" required></textarea>
        </p>
        <button class="btn-submit" type="submit">Submit</button>
    </form>



{% endblock %}
