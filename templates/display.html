<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Question {{ id }}</title>
</head>
<body>
<h1>Question {{ id }}</h1>
<form action="/">
    <input type="submit" value="Go back to the main menu"/>
    <div class="gap-15"></div>
    <br>
</form>
<table width="100%" border="5">
    <tr align="center">
        <th>ID</th>
        <th>Submission Time</th>
        <th>View Number</th>
        <th>Vote Number</th>
        <th>Title</th>
        <th>Message</th>
        <th>Image</th>
    </tr>
    {% for question in question_by_id %}
        <tr align="center">
            <td>{{ question.id }}</td>
            <td>{{ question.submission_time }}</td>
            <td>{{ question.view_number }}</td>
            <td>
                {{ question.vote_number }}<br>
                <a href="{{ url_for('vote', q_id=question.id, vote='up') }}">Vote Up</a><br>
                <a href="{{ url_for('vote', q_id=question.id, vote='down') }}">Vote Down</a><br>
            </td>
            <td>{{ question.title }}</td>
            <td>{{ question.message }}</td>
            <td><img src="{{ question.image }}" alt="Question Picture" width="100" height="100"></td>
        </tr>
    {% endfor %}
</table>

<h1 align="center">Comments: </h1>
<table width="50%" border="3" align="center">
    <tr>
        <th width="200px">Submission Time</th>
        <th>Comment</th>
    </tr>
    {% for comment in question_comments %}
        <tr align="center">
            <td>{{ comment['submission_time'] }}</td>
            <td><b>{{ comment['message'] }}
            <form action="{{ url_for('delete_question_comment', q_id=q_id) }}"
            method=get><p><input type=submit value="delete"></p>
            </b></td>
        </tr>
    {% endfor %}
</table>
<form action="{{ url_for('add_new_comment_question', q_id=q_id) }}"
      method=get>
    <br>
    <p>
        <input type=submit value="add a new comment">
    </p>
</form>

<h1 align="left">Answers: </h1>
<table width="100%" border="5" align="left">
    <tr>
        <th width="200px"><h4>Submission Time</h4></th>
        <th><h2> Answer </h2></th>
        <th width="200px"><h4>Vote Number</h4></th>
    </tr>
    {% for answer in answers %}
        <tr align="center">
            <td>{{ answer.submission_time }}</td>
            <td><b>{{ answer.message }}
                <form action="{{ url_for('add_new_comment_question', q_id=q_id) }}"
                      method=get><p><input type=submit value="add a new comment"></p>
                </form>
            </b></td>
            <td>{{ answer.vote_number }}<br>
        </tr>
    {% endfor %}
</table>

<form action="{{ url_for('add_new_answer', q_id=q_id) }}" method="post">
    <p>
        <label for="message">Enter your answer here:</label>
        <br>
        <textarea name="message" id="message" cols="100" rows="5" required></textarea>
    </p>
    <button type="submit">Submit</button>
</form>



<h1 align="center">Comments: </h1>
<table width="50%" border="3" align="center">
    <tr>
        <th width="200px">Submission Time</th>
        <th>Comment</th>
    </tr>
    {% for comment in answer_comments %}
        <tr align="center">
            <td>{{ comment['submission_time'] }}</td>
            <td><b>{{ comment['message'] }}</b></td>
        </tr>
    {% endfor %}
</table>
<form action="{{ url_for('add_new_comment_answer', a_id=a_id) }}"
      method=get>
    <br>

</form>
</body>
</html>
